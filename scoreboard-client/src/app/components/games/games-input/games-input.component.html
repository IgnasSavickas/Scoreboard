<h1 mat-dialog-title>{{title}}</h1>
<div>
  <form #teamInputForm="ngForm">
    <div mat-dialog-content>
      <mat-form-field *ngIf="buttonText !== 'Update'">
        <mat-select placeholder="Home Team" [(ngModel)]="game.homeTeam" name="gameHomeTeam" (change)="onChange($event)">
          <mat-option *ngFor="let team of teams" [value]="team">
            {{team.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-table #table *ngIf="buttonText !== 'Update'" [dataSource]="dataSource">

        <ng-container matColumnDef="number">
          <mat-header-cell *matHeaderCellDef matTooltip="Number">#</mat-header-cell>
          <mat-cell *matCellDef="let player">{{player.number}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="name">
          <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
          <mat-cell *matCellDef="let player">{{player.name}} {{player.surname}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="fgma">
          <mat-header-cell *matHeaderCellDef matTooltip="Field goal">FG</mat-header-cell>
          <mat-cell *matCellDef="let player" matTooltip="{{player.fg}} %">{{player.fgm}}/{{player.fga}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="ftma">
          <mat-header-cell *matHeaderCellDef matTooltip="Free throws">FT</mat-header-cell>
          <mat-cell *matCellDef="let player" matTooltip="{{player.ft}} %">{{player.ftm}}/{{player.fta}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="fgma3">
          <mat-header-cell *matHeaderCellDef matTooltip="Three-point field goal">3FG</mat-header-cell>
          <mat-cell *matCellDef="let player" matTooltip="{{player.fg3}} %">{{player.fgm3}}/{{player.fga3}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="pf">
          <mat-header-cell *matHeaderCellDef matTooltip="Personal fouls">PF</mat-header-cell>
          <mat-cell *matCellDef="let player">{{player.pf}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="reb">
          <mat-header-cell *matHeaderCellDef matTooltip="Rebounds">REB</mat-header-cell>
          <mat-cell *matCellDef="let player">{{player.reb}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="ast">
          <mat-header-cell *matHeaderCellDef matTooltip="Assists">AST</mat-header-cell>
          <mat-cell *matCellDef="let player">{{player.ast}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="stl">
          <mat-header-cell *matHeaderCellDef matTooltip="Steals">STL</mat-header-cell>
          <mat-cell *matCellDef="let player">{{player.stl}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="blk">
          <mat-header-cell *matHeaderCellDef matTooltip="Blocks">BLK</mat-header-cell>
          <mat-cell *matCellDef="let player">{{player.blk}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="to">
          <mat-header-cell *matHeaderCellDef matTooltip="Turnovers">TO</mat-header-cell>
          <mat-cell *matCellDef="let player">{{player.to}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="actions">
          <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
          <mat-cell *matCellDef="let player">
            <div class="actions">
              <button mat-icon-button type="button" (click)="updateStats(player)">
                <mat-icon aria-label="Edit Stats" matTooltip="Edit stats">edit</mat-icon>
              </button>
            </div>
          </mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let player; columns: displayedColumns;"></mat-row>
      </mat-table>
      <mat-form-field *ngIf="buttonText !== 'Update'">
        <mat-select placeholder="Visitor Team" [(ngModel)]="game.visitorTeam" name="gameVisitorTeam" (change)="onChange2($event)">
          <mat-option *ngFor="let team of teams" [value]="team">
            {{team.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-table #table *ngIf="buttonText !== 'Update'" [dataSource]="dataSource2">

        <ng-container matColumnDef="number">
          <mat-header-cell *matHeaderCellDef matTooltip="Number">#</mat-header-cell>
          <mat-cell *matCellDef="let player">{{player.number}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="name">
          <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
          <mat-cell *matCellDef="let player">{{player.name}} {{player.surname}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="fgma">
          <mat-header-cell *matHeaderCellDef matTooltip="Field goal">FG</mat-header-cell>
          <mat-cell *matCellDef="let player" matTooltip="{{player.fg}} %">{{player.fgm}}/{{player.fga}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="ftma">
          <mat-header-cell *matHeaderCellDef matTooltip="Free throws">FT</mat-header-cell>
          <mat-cell *matCellDef="let player" matTooltip="{{player.ft}} %">{{player.ftm}}/{{player.fta}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="fgma3">
          <mat-header-cell *matHeaderCellDef matTooltip="Three-point field goal">3FG</mat-header-cell>
          <mat-cell *matCellDef="let player" matTooltip="{{player.fg3}} %">{{player.fgm3}}/{{player.fga3}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="pf">
          <mat-header-cell *matHeaderCellDef matTooltip="Personal fouls">PF</mat-header-cell>
          <mat-cell *matCellDef="let player">{{player.pf}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="reb">
          <mat-header-cell *matHeaderCellDef matTooltip="Rebounds">REB</mat-header-cell>
          <mat-cell *matCellDef="let player">{{player.reb}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="ast">
          <mat-header-cell *matHeaderCellDef matTooltip="Assists">AST</mat-header-cell>
          <mat-cell *matCellDef="let player">{{player.ast}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="stl">
          <mat-header-cell *matHeaderCellDef matTooltip="Steals">STL</mat-header-cell>
          <mat-cell *matCellDef="let player">{{player.stl}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="blk">
          <mat-header-cell *matHeaderCellDef matTooltip="Blocks">BLK</mat-header-cell>
          <mat-cell *matCellDef="let player">{{player.blk}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="to">
          <mat-header-cell *matHeaderCellDef matTooltip="Turnovers">TO</mat-header-cell>
          <mat-cell *matCellDef="let player">{{player.to}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="actions">
          <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
          <mat-cell *matCellDef="let player">
            <div class="actions">
              <button mat-icon-button type="button" (click)="updateStats(player)">
                <mat-icon aria-label="Edit Stats" matTooltip="Edit stats">edit</mat-icon>
              </button>
            </div>
          </mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let player; columns: displayedColumns;"></mat-row>
      </mat-table>
      <mat-form-field>
        <input matInput type="datetime-local" placeholder="Start Date" [(ngModel)]="game.startDate" id="startDate" name="gameStartDate" required>
      </mat-form-field>
      <mat-form-field>
        <input matInput type="datetime-local" placeholder="End Date" [(ngModel)]="game.endDate" id="endDate" name="gameEndDate" required>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Period Time" [(ngModel)]="game.periodTime" id="periodTime" name="gamePeriodTime" required>
      </mat-form-field>
      <mat-form-field>
        <input matInput type="number" placeholder="Periods" [(ngModel)]="game.periods" id="periods" name="gamePeriods" required>
      </mat-form-field>
      <mat-checkbox [(ngModel)]="game.public" id="public" name="gamePublic">Public</mat-checkbox>
    </div>
    <div mat-dialog-actions>
      <button mat-raised-button [disabled]="!teamInputForm.form.valid" (click)="onButtonClick()">{{buttonText}}</button>
    </div>
  </form>
</div>
