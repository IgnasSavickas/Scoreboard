<app-header [titleName]="'Game'"></app-header>
<mat-card>
  <mat-card-title>{{game?.homeTeam.name}} {{game?.homePoints}}</mat-card-title>
  <mat-card-title>{{game?.visitorTeam.name}} {{game?.visitorPoints}}</mat-card-title>
  <mat-card-subtitle>Start date: {{game?.startDate}}</mat-card-subtitle>
  <mat-card-subtitle>Period: {{game?.periods}}/{{game?.periodTime}}</mat-card-subtitle>
</mat-card>
<mat-toolbar>{{game?.homeTeam.name}}</mat-toolbar>
<div class="table-container mat-elevation-z8">
  <div class="table-header">
    <mat-form-field>
      <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
    </mat-form-field>
  </div>

  <mat-table #table [dataSource]="dataSource">

    <ng-container matColumnDef="number">
      <mat-header-cell *matHeaderCellDef matTooltip="Number">#</mat-header-cell>
      <mat-cell *matCellDef="let player">{{player.number}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="name">
      <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
      <mat-cell *matCellDef="let player">{{player.name}} {{player.surname}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="fgma">
      <mat-header-cell *matHeaderCellDef matTooltip="Field goal">FG</mat-header-cell>
      <mat-cell *matCellDef="let player" matTooltip="{{player.fg}} %">{{player.fgm}}/{{player.fga}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="ftma">
      <mat-header-cell *matHeaderCellDef matTooltip="Free throws">FT</mat-header-cell>
      <mat-cell *matCellDef="let player" matTooltip="{{player.ft}} %">{{player.ftm}}/{{player.fta}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="fgma3">
      <mat-header-cell *matHeaderCellDef matTooltip="Three-point field goal">3FG</mat-header-cell>
      <mat-cell *matCellDef="let player" matTooltip="{{player.fg3}} %">{{player.fgm3}}/{{player.fga3}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="pf">
      <mat-header-cell *matHeaderCellDef matTooltip="Personal fouls">PF</mat-header-cell>
      <mat-cell *matCellDef="let player">{{player.pf}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="reb">
      <mat-header-cell *matHeaderCellDef matTooltip="Rebounds">REB</mat-header-cell>
      <mat-cell *matCellDef="let player">{{player.reb}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="ast">
      <mat-header-cell *matHeaderCellDef matTooltip="Assists">AST</mat-header-cell>
      <mat-cell *matCellDef="let player">{{player.ast}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="stl">
      <mat-header-cell *matHeaderCellDef matTooltip="Steals">STL</mat-header-cell>
      <mat-cell *matCellDef="let player">{{player.stl}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="blk">
      <mat-header-cell *matHeaderCellDef matTooltip="Blocks">BLK</mat-header-cell>
      <mat-cell *matCellDef="let player">{{player.blk}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="to">
      <mat-header-cell *matHeaderCellDef matTooltip="Turnovers">TO</mat-header-cell>
      <mat-cell *matCellDef="let player">{{player.to}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="actions">
      <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
      <mat-cell *matCellDef="let player">
        <div class="actions">
          <button mat-icon-button (click)="updateStats(player)">
            <mat-icon aria-label="Edit Stats" matTooltip="Edit stats">edit</mat-icon>
          </button>
        </div>
      </mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let player; columns: displayedColumns;"></mat-row>
  </mat-table>
</div>
<mat-toolbar>{{game?.visitorTeam.name}}</mat-toolbar>
<div class="table-container mat-elevation-z8">
  <div class="table-header">
    <mat-form-field>
      <input matInput (keyup)="applyFilter2($event.target.value)" placeholder="Filter">
    </mat-form-field>
  </div>

  <mat-table #table [dataSource]="dataSource2">

    <ng-container matColumnDef="number">
      <mat-header-cell *matHeaderCellDef matTooltip="Number">#</mat-header-cell>
      <mat-cell *matCellDef="let player">{{player.number}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="name">
      <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
      <mat-cell *matCellDef="let player">{{player.name}} {{player.surname}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="fgma">
      <mat-header-cell *matHeaderCellDef matTooltip="Field goal">FG</mat-header-cell>
      <mat-cell *matCellDef="let player" matTooltip="{{player.fg}} %">{{player.fgm}}/{{player.fga}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="ftma">
      <mat-header-cell *matHeaderCellDef matTooltip="Free throws">FT</mat-header-cell>
      <mat-cell *matCellDef="let player" matTooltip="{{player.ft}} %">{{player.ftm}}/{{player.fta}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="fgma3">
      <mat-header-cell *matHeaderCellDef matTooltip="Three-point field goal">3FG</mat-header-cell>
      <mat-cell *matCellDef="let player" matTooltip="{{player.fg3}} %">{{player.fgm3}}/{{player.fga3}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="pf">
      <mat-header-cell *matHeaderCellDef matTooltip="Personal fouls">PF</mat-header-cell>
      <mat-cell *matCellDef="let player">{{player.pf}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="reb">
      <mat-header-cell *matHeaderCellDef matTooltip="Rebounds">REB</mat-header-cell>
      <mat-cell *matCellDef="let player">{{player.reb}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="ast">
      <mat-header-cell *matHeaderCellDef matTooltip="Assists">AST</mat-header-cell>
      <mat-cell *matCellDef="let player">{{player.ast}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="stl">
      <mat-header-cell *matHeaderCellDef matTooltip="Steals">STL</mat-header-cell>
      <mat-cell *matCellDef="let player">{{player.stl}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="blk">
      <mat-header-cell *matHeaderCellDef matTooltip="Blocks">BLK</mat-header-cell>
      <mat-cell *matCellDef="let player">{{player.blk}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="to">
      <mat-header-cell *matHeaderCellDef matTooltip="Turnovers">TO</mat-header-cell>
      <mat-cell *matCellDef="let player">{{player.to}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="actions">
      <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
      <mat-cell *matCellDef="let player">
        <div class="actions">
          <button mat-icon-button (click)="updateStats(player)">
            <mat-icon aria-label="Edit Stats" matTooltip="Edit stats">edit</mat-icon>
          </button>
        </div>
      </mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let player; columns: displayedColumns;"></mat-row>
  </mat-table>
</div>
